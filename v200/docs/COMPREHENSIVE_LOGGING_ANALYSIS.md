# ğŸ” ØªØ­Ù„ÛŒÙ„ Ø¬Ø§Ù…Ø¹ Ø³ÛŒØ³ØªÙ… Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ Ùˆ ÙˆØ¶Ø¹ÛŒØª Ø³ÙØ§Ø±Ø´Ø§Øª HomayOMS

## ğŸ“‹ Ø®Ù„Ø§ØµÙ‡ Ø§Ø¬Ø±Ø§ÛŒÛŒ

Ø§ÛŒÙ† Ø³Ù†Ø¯ ØªØ­Ù„ÛŒÙ„ Ú©Ø§Ù…Ù„ Ø³ÛŒØ³ØªÙ… Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ (Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡ Ùˆ CSV) Ùˆ ÙˆØ¶Ø¹ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø³ÙØ§Ø±Ø´Ø§Øª Ø¯Ø± Ù¾Ø±ÙˆÚ˜Ù‡ HomayOMS Ø±Ø§ Ø§Ø±Ø§Ø¦Ù‡ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯. ØªØ­Ù„ÛŒÙ„ Ø´Ø§Ù…Ù„ Ù…Ù‚Ø§ÛŒØ³Ù‡ Ø¨ÛŒÙ† Ù†Ø³Ø®Ù‡â€ŒÙ‡Ø§ÛŒ v1 Ùˆ v1.1 Ùˆ Ø§Ø±Ø§Ø¦Ù‡ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯Ø§Øª Ø¨Ù‡Ø¨ÙˆØ¯ Ø§Ø³Øª.

## ğŸ—ï¸ Ù…Ø¹Ù…Ø§Ø±ÛŒ Ø³ÛŒØ³ØªÙ… Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ

### ğŸ“Š Ø³ÛŒØ³ØªÙ… Ø¯ÙˆÚ¯Ø§Ù†Ù‡ Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ

#### 1. ğŸ“œ Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡ (ActivityLog)
```python
class ActivityLog(BaseModel):
    # ğŸ­ Ø§Ù†ÙˆØ§Ø¹ Ø¹Ù…Ù„ÛŒØ§Øª (20 Ù†ÙˆØ¹)
    ACTION_CHOICES = [
        ('CREATE', 'âœ… Ø§ÛŒØ¬Ø§Ø¯'),
        ('UPDATE', 'ğŸ“ ÙˆÛŒØ±Ø§ÛŒØ´'),
        ('DELETE', 'ğŸ—‘ï¸ Ø­Ø°Ù'),
        ('VIEW', 'ğŸ‘ï¸ Ù…Ø´Ø§Ù‡Ø¯Ù‡'),
        ('LOGIN', 'ğŸ”‘ ÙˆØ±ÙˆØ¯'),
        ('LOGOUT', 'ğŸšª Ø®Ø±ÙˆØ¬'),
        ('EXPORT', 'ğŸ“¤ Ø®Ø±ÙˆØ¬ÛŒ'),
        ('IMPORT', 'ğŸ“¥ ÙˆØ±ÙˆØ¯ÛŒ'),
        ('APPROVE', 'âœ… ØªØ§ÛŒÛŒØ¯'),
        ('REJECT', 'âŒ Ø±Ø¯'),
        ('PAYMENT', 'ğŸ’° Ù¾Ø±Ø¯Ø§Ø®Øª'),
        ('ORDER', 'ğŸ›’ Ø³ÙØ§Ø±Ø´'),
        ('DELIVERY', 'ğŸšš ØªØ­ÙˆÛŒÙ„'),
        ('CANCEL', 'ğŸš« Ù„ØºÙˆ'),
        ('RESTORE', 'â™»ï¸ Ø¨Ø§Ø²Ú¯Ø±Ø¯Ø§Ù†ÛŒ'),
        ('BACKUP', 'ğŸ’¾ Ù¾Ø´ØªÛŒØ¨Ø§Ù†â€ŒÚ¯ÛŒØ±ÛŒ'),
        ('PRICE_UPDATE', 'ğŸ’° ØªØºÛŒÛŒØ± Ù‚ÛŒÙ…Øª'),
        ('ERROR', 'âš ï¸ Ø®Ø·Ø§'),
        ('WARNING', 'âš¡ Ù‡Ø´Ø¯Ø§Ø±'),
        ('INFO', 'â„¹ï¸ Ø§Ø·Ù„Ø§Ø¹Ø§Øª'),
    ]
    
    # âš ï¸ Ø³Ø·ÙˆØ­ Ø§Ù‡Ù…ÛŒØª
    SEVERITY_CHOICES = [
        ('LOW', 'ğŸŸ¢ Ú©Ù…'),
        ('MEDIUM', 'ğŸŸ¡ Ù…ØªÙˆØ³Ø·'),
        ('HIGH', 'ğŸŸ  Ø¨Ø§Ù„Ø§'),
        ('CRITICAL', 'ğŸ”´ Ø¨Ø­Ø±Ø§Ù†ÛŒ'),
    ]
```

#### 2. ğŸ“„ Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ CSV (Human-Readable)
```python
# ğŸ“ Ø³Ø§Ø®ØªØ§Ø± ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ CSV
csv_logs/
â”œâ”€â”€ customers_logs.csv      # Ù„Ø§Ú¯â€ŒÙ‡Ø§ÛŒ Ù…Ø´ØªØ±ÛŒØ§Ù†
â”œâ”€â”€ orders_logs.csv         # Ù„Ø§Ú¯â€ŒÙ‡Ø§ÛŒ Ø³ÙØ§Ø±Ø´Ø§Øª
â””â”€â”€ payments_logs.csv       # Ù„Ø§Ú¯â€ŒÙ‡Ø§ÛŒ Ù¾Ø±Ø¯Ø§Ø®Øªâ€ŒÙ‡Ø§
```

### ğŸ”„ Ù…Ú©Ø§Ù†ÛŒØ²Ù… Ø®ÙˆØ¯Ú©Ø§Ø± Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ

#### âœ… Ù†Ø³Ø®Ù‡ v1 (Ú©Ø§Ù…Ù„)
```python
# Ø¯Ø± Ù…Ø¯Ù„ Customer Ùˆ Order
def save(self, *args, **kwargs):
    # ... Ú©Ø¯ Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ ...
    super().save(*args, **kwargs)
    # ğŸ”„ Ø®Ø±ÙˆØ¬ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø± Ø¨Ù‡ CSV
    try:
        call_command('export_logs_to_csv')
    except Exception:
        pass
```

#### âŒ Ù†Ø³Ø®Ù‡ v1.1 (Ù†Ø§Ù‚Øµ)
- **ÙÙ‚Ø¯Ø§Ù† ÙÛŒÙ„Ø¯ logs**: Ù…Ø¯Ù„â€ŒÙ‡Ø§ÛŒ Customer Ùˆ Order ÙÛŒÙ„Ø¯ logs Ù†Ø¯Ø§Ø±Ù†Ø¯
- **ÙÙ‚Ø¯Ø§Ù† Ø¯Ø³ØªÙˆØ±Ø§Øª export**: Ø¯Ø³ØªÙˆØ±Ø§Øª export_logs_to_csv ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯
- **ÙÙ‚Ø¯Ø§Ù† Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø±**: Ø³ÛŒØ³ØªÙ… Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø± Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù†Ø´Ø¯Ù‡

## ğŸ›’ ÙˆØ¶Ø¹ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø³ÙØ§Ø±Ø´Ø§Øª

### ğŸ“Š ÙˆØ¶Ø¹ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø³ÙØ§Ø±Ø´ (Order Status)

```python
ORDER_STATUS_CHOICES = [
    ('Pending', 'â³ Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø± ØªØ§ÛŒÛŒØ¯'),      # Ø³ÙØ§Ø±Ø´ Ø¬Ø¯ÛŒØ¯
    ('Confirmed', 'âœ… ØªØ§ÛŒÛŒØ¯ Ø´Ø¯Ù‡'),          # ØªØ§ÛŒÛŒØ¯ Ø´Ø¯Ù‡ ØªÙˆØ³Ø· Ø§Ø¯Ù…ÛŒÙ†
    ('Processing', 'ğŸ”„ Ø¯Ø± Ø­Ø§Ù„ Ù¾Ø±Ø¯Ø§Ø²Ø´'),     # Ø¯Ø± Ø­Ø§Ù„ Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ
    ('Ready', 'ğŸ“¦ Ø¢Ù…Ø§Ø¯Ù‡ ØªØ­ÙˆÛŒÙ„'),           # Ø¢Ù…Ø§Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ ØªØ­ÙˆÛŒÙ„
    ('Delivered', 'ğŸšš ØªØ­ÙˆÛŒÙ„ Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù‡'),     # ØªØ­ÙˆÛŒÙ„ Ø´Ø¯Ù‡ Ø¨Ù‡ Ù…Ø´ØªØ±ÛŒ
    ('Cancelled', 'âŒ Ù„ØºÙˆ Ø´Ø¯Ù‡'),           # Ù„ØºÙˆ Ø´Ø¯Ù‡
    ('Returned', 'â†©ï¸ Ù…Ø±Ø¬ÙˆØ¹ Ø´Ø¯Ù‡'),         # Ù…Ø±Ø¬ÙˆØ¹ Ø´Ø¯Ù‡
]
```

### ğŸ’³ Ø±ÙˆØ´â€ŒÙ‡Ø§ÛŒ Ù¾Ø±Ø¯Ø§Ø®Øª

```python
PAYMENT_METHOD_CHOICES = [
    ('Cash', 'ğŸ’µ Ù†Ù‚Ø¯ÛŒ'),
    ('Terms', 'ğŸ“… Ù‚Ø³Ø·ÛŒ'),
    ('Bank_Transfer', 'ğŸ¦ Ø­ÙˆØ§Ù„Ù‡ Ø¨Ø§Ù†Ú©ÛŒ'),
    ('Check', 'ğŸ“ Ú†Ú©'),
]
```

### ğŸ“¦ ÙˆØ¶Ø¹ÛŒØª Ù…Ø­ØµÙˆÙ„Ø§Øª

```python
STATUS_CHOICES = [
    ('In-stock', 'ğŸ“¦ Ù…ÙˆØ¬ÙˆØ¯ Ø¯Ø± Ø§Ù†Ø¨Ø§Ø±'),
    ('Sold', 'ğŸ’° ÙØ±ÙˆØ®ØªÙ‡ Ø´Ø¯Ù‡'),
    ('Pre-order', 'â³ Ù¾ÛŒØ´â€ŒØ³ÙØ§Ø±Ø´'),
]
```

## ğŸ” ØªØ­Ù„ÛŒÙ„ ØªÙØ§ÙˆØªâ€ŒÙ‡Ø§ÛŒ Ù†Ø³Ø®Ù‡â€ŒÙ‡Ø§

### âœ… Ù†Ù‚Ø§Ø· Ù‚ÙˆØª Ù†Ø³Ø®Ù‡ v1

1. **Ø³ÛŒØ³ØªÙ… Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ Ú©Ø§Ù…Ù„**:
   - ÙÛŒÙ„Ø¯ logs Ø¯Ø± Ù…Ø¯Ù„â€ŒÙ‡Ø§ÛŒ Customer Ùˆ Order
   - Ø¯Ø³ØªÙˆØ±Ø§Øª export_logs_to_csv
   - Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø± Ø¯Ø± save() methods
   - ActivityLog Ø¨Ø§ GenericForeignKey

2. **Ø³ÛŒØ³ØªÙ… Ù¾Ø±Ø¯Ø§Ø®Øª Ú©Ø§Ù…Ù„**:
   - Ù…Ø¯Ù„ Payment
   - Ø¯Ø³ØªÙˆØ±Ø§Øª export_payments_logs_to_csv
   - Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ Ú©Ø§Ù…Ù„ Ù¾Ø±Ø¯Ø§Ø®Øªâ€ŒÙ‡Ø§

3. **Ù…Ø¯ÛŒØ±ÛŒØª Ø®Ø·Ø§**:
   - try-catch Ø¯Ø± Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø±
   - Ø¹Ø¯Ù… ØªÙˆÙ‚Ù Ø³ÛŒØ³ØªÙ… Ø¯Ø± ØµÙˆØ±Øª Ø®Ø·Ø§

### âŒ Ù…Ø´Ú©Ù„Ø§Øª Ù†Ø³Ø®Ù‡ v1.1

1. **ÙÙ‚Ø¯Ø§Ù† Ø³ÛŒØ³ØªÙ… Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ**:
   - ÙÛŒÙ„Ø¯ logs Ø¯Ø± Ù…Ø¯Ù„â€ŒÙ‡Ø§ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯
   - Ø¯Ø³ØªÙˆØ±Ø§Øª export ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯
   - Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø± Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù†Ø´Ø¯Ù‡

2. **ÙÙ‚Ø¯Ø§Ù† Ø³ÛŒØ³ØªÙ… Ù¾Ø±Ø¯Ø§Ø®Øª**:
   - Ù…Ø¯Ù„ Payment ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯
   - Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ Ù¾Ø±Ø¯Ø§Ø®Øªâ€ŒÙ‡Ø§ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯

3. **Ø¹Ø¯Ù… Ø³Ø§Ø²Ú¯Ø§Ø±ÛŒ**:
   - Ø¨Ø§ Ø³ÛŒØ³ØªÙ… Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ Ù…ÙˆØ¬ÙˆØ¯ Ø³Ø§Ø²Ú¯Ø§Ø± Ù†ÛŒØ³Øª
   - Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ Ø¨Ø¯ÙˆÙ† Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ

## ğŸ“Š Ø¬Ø±ÛŒØ§Ù† Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ Ø¯Ø± Ù†Ø³Ø®Ù‡ v1

### ğŸ”„ ÙØ±Ø¢ÛŒÙ†Ø¯ Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø±

```mermaid
graph TD
    A[Ø¹Ù…Ù„ÛŒØ§Øª Ú©Ø§Ø±Ø¨Ø±] --> B[Ø°Ø®ÛŒØ±Ù‡ Ù…Ø¯Ù„]
    B --> C[Ø«Ø¨Øª Ù„Ø§Ú¯ Ø¯Ø± ÙÛŒÙ„Ø¯ logs]
    C --> D[ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ export_logs_to_csv]
    D --> E[Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ CSV]
    E --> F[Ø«Ø¨Øª ActivityLog]
    F --> G[Ù¾Ø§ÛŒØ§Ù†]
```

### ğŸ“ Ù†Ù…ÙˆÙ†Ù‡ Ù„Ø§Ú¯â€ŒÙ‡Ø§ÛŒ Ø«Ø¨Øª Ø´Ø¯Ù‡

#### Customer Logs:
```csv
customer_id,customer_name,log_line
1,Ù…Ø´ØªØ±ÛŒ ØªØ³Øª,"2025-07-02 08:13 Created By system, 2025-07-02 08:13 Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ø®ÙˆØ¯Ú©Ø§Ø± Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±: customer By system FOR comments,"
```

#### Payment Logs:
```csv
Payment ID,Tracking Code,Order Number,Customer Name,Gateway,Amount (Toman),Status,Logs,Created At
1,PAY-20250702-NUPSGM,ORD-20250702-1ADR,Ù…Ø´ØªØ±ÛŒ ØªØ³Øª 1751444021.66902,ğŸ’ Ø²Ø±ÛŒÙ†â€ŒÙ¾Ø§Ù„,"332,500",ğŸŸ¡ Ø¢ØºØ§Ø² Ø´Ø¯Ù‡,"2025-07-02 08:13 Payment initiated By system, 2025-07-02 08:13 Gateway: zarinpal By system, 2025-07-02 08:13 Amount: 332,500 Toman By system,",2025-07-02 08:13:42
```

## ğŸ¯ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯Ø§Øª Ø¨Ù‡Ø¨ÙˆØ¯

### 1. ğŸ”§ ØªÚ©Ù…ÛŒÙ„ Ø³ÛŒØ³ØªÙ… Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ v1.1

#### Ø§Ù„Ù) Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† ÙÛŒÙ„Ø¯ logs
```python
# Ø¯Ø± Ù…Ø¯Ù„â€ŒÙ‡Ø§ÛŒ Customer Ùˆ Order
logs = models.TextField(
    blank=True,
    verbose_name="ğŸ“ Ù„Ø§Ú¯â€ŒÙ‡Ø§ÛŒ ØªØ­Ù„ÛŒÙ„ÛŒ",
    help_text="Ù„Ø§Ú¯â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ù…Ù„ ØªØºÛŒÛŒØ±Ø§Øª Ùˆ Ø¹Ù…Ù„ÛŒØ§Øª"
)
```

#### Ø¨) Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¯Ø³ØªÙˆØ±Ø§Øª export
```python
# Ø§ÛŒØ¬Ø§Ø¯ ÙØ§ÛŒÙ„ export_logs_to_csv.py
from django.core.management.base import BaseCommand
from core.models import Customer, Order
import os
import csv

class Command(BaseCommand):
    help = 'Export all customer and order logs to csv_logs directory.'
    
    def handle(self, *args, **options):
        # Ú©Ù¾ÛŒ Ø§Ø² Ù†Ø³Ø®Ù‡ v1
```

#### Ø¬) Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø±
```python
# Ø¯Ø± save() methods
def save(self, *args, **kwargs):
    # ... Ú©Ø¯ Ù…ÙˆØ¬ÙˆØ¯ ...
    super().save(*args, **kwargs)
    # Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø±
    try:
        call_command('export_logs_to_csv')
    except Exception:
        pass
```

### 2. ğŸ’³ ØªÚ©Ù…ÛŒÙ„ Ø³ÛŒØ³ØªÙ… Ù¾Ø±Ø¯Ø§Ø®Øª

#### Ø§Ù„Ù) Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ù…Ø¯Ù„ Payment
```python
class Payment(BaseModel):
    order = models.ForeignKey(Order, on_delete=models.CASCADE)
    tracking_code = models.CharField(max_length=50, unique=True)
    gateway = models.CharField(max_length=50)
    amount = models.DecimalField(max_digits=15, decimal_places=2)
    status = models.CharField(max_length=20, choices=PAYMENT_STATUS_CHOICES)
    logs = models.TextField(blank=True)
```

#### Ø¨) Ø¯Ø³ØªÙˆØ± export_payments_logs_to_csv
```python
# Ú©Ù¾ÛŒ Ø§Ø² Ù†Ø³Ø®Ù‡ v1
```

### 3. ğŸ“Š Ø¨Ù‡Ø¨ÙˆØ¯ Ø³ÛŒØ³ØªÙ… Ú¯Ø²Ø§Ø±Ø´â€ŒÚ¯ÛŒØ±ÛŒ

#### Ø§Ù„Ù) Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ù„Ø§Ú¯â€ŒÙ‡Ø§
```python
def activity_logs_dashboard(request):
    """ğŸ“Š Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ù„Ø§Ú¯â€ŒÙ‡Ø§ÛŒ ÙØ¹Ø§Ù„ÛŒØª"""
    logs = ActivityLog.objects.all().order_by('-created_at')[:100]
    context = {
        'logs': logs,
        'total_logs': ActivityLog.objects.count(),
        'recent_activities': logs[:10],
    }
    return render(request, 'core/activity_logs_dashboard.html', context)
```

#### Ø¨) Ú¯Ø²Ø§Ø±Ø´â€ŒÙ‡Ø§ÛŒ ØªØ­Ù„ÛŒÙ„ÛŒ
```python
def analytics_report(request):
    """ğŸ“ˆ Ú¯Ø²Ø§Ø±Ø´â€ŒÙ‡Ø§ÛŒ ØªØ­Ù„ÛŒÙ„ÛŒ"""
    # Ø¢Ù…Ø§Ø± Ø³ÙØ§Ø±Ø´Ø§Øª
    orders_by_status = Order.objects.values('status').annotate(count=Count('id'))
    # Ø¢Ù…Ø§Ø± Ù¾Ø±Ø¯Ø§Ø®Øªâ€ŒÙ‡Ø§
    payments_by_gateway = Payment.objects.values('gateway').annotate(count=Count('id'))
    # Ø¢Ù…Ø§Ø± Ù…Ø´ØªØ±ÛŒØ§Ù†
    customers_by_status = Customer.objects.values('status').annotate(count=Count('id'))
    
    context = {
        'orders_by_status': orders_by_status,
        'payments_by_gateway': payments_by_gateway,
        'customers_by_status': customers_by_status,
    }
    return render(request, 'core/analytics_report.html', context)
```

### 4. ğŸ”„ Ø¨Ù‡Ø¨ÙˆØ¯ Ø¬Ø±ÛŒØ§Ù† Ø³ÙØ§Ø±Ø´Ø§Øª

#### Ø§Ù„Ù) ÙˆØ¶Ø¹ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯
```python
ORDER_STATUS_CHOICES = [
    ('Pending', 'â³ Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø± ØªØ§ÛŒÛŒØ¯'),
    ('Confirmed', 'âœ… ØªØ§ÛŒÛŒØ¯ Ø´Ø¯Ù‡'),
    ('Processing', 'ğŸ”„ Ø¯Ø± Ø­Ø§Ù„ Ù¾Ø±Ø¯Ø§Ø²Ø´'),
    ('Ready', 'ğŸ“¦ Ø¢Ù…Ø§Ø¯Ù‡ ØªØ­ÙˆÛŒÙ„'),
    ('Delivered', 'ğŸšš ØªØ­ÙˆÛŒÙ„ Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù‡'),
    ('Cancelled', 'âŒ Ù„ØºÙˆ Ø´Ø¯Ù‡'),
    ('Returned', 'â†©ï¸ Ù…Ø±Ø¬ÙˆØ¹ Ø´Ø¯Ù‡'),
    ('Payment_Pending', 'ğŸ’° Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø± Ù¾Ø±Ø¯Ø§Ø®Øª'),  # Ø¬Ø¯ÛŒØ¯
    ('Payment_Failed', 'âŒ Ù¾Ø±Ø¯Ø§Ø®Øª Ù†Ø§Ù…ÙˆÙÙ‚'),      # Ø¬Ø¯ÛŒØ¯
    ('Refunded', 'â†©ï¸ Ø¨Ø§Ø²Ù¾Ø±Ø¯Ø§Ø®Øª Ø´Ø¯Ù‡'),           # Ø¬Ø¯ÛŒØ¯
]
```

#### Ø¨) Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ ÙˆØ¶Ø¹ÛŒØªâ€ŒÙ‡Ø§
```python
def update_order_status(order, new_status, user=None):
    """ğŸ”„ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ÙˆØ¶Ø¹ÛŒØª Ø³ÙØ§Ø±Ø´ Ø¨Ø§ Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ"""
    old_status = order.status
    order.status = new_status
    order.save()
    
    # Ø«Ø¨Øª Ù„Ø§Ú¯ ØªØºÛŒÛŒØ± ÙˆØ¶Ø¹ÛŒØª
    ActivityLog.log_activity(
        user=user,
        action='UPDATE',
        description=f'ğŸ”„ ØªØºÛŒÛŒØ± ÙˆØ¶Ø¹ÛŒØª Ø³ÙØ§Ø±Ø´: {old_status} â†’ {new_status}',
        content_object=order,
        severity='MEDIUM',
        extra_data={
            'old_status': old_status,
            'new_status': new_status,
            'order_number': order.order_number,
        }
    )
```

## ğŸ“‹ Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø§Ø¬Ø±Ø§ÛŒÛŒ

### Ù…Ø±Ø­Ù„Ù‡ 1: ØªÚ©Ù…ÛŒÙ„ Ø³ÛŒØ³ØªÙ… Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ v1.1
1. âœ… Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† ÙÛŒÙ„Ø¯ logs Ø¨Ù‡ Ù…Ø¯Ù„â€ŒÙ‡Ø§ÛŒ Customer Ùˆ Order
2. âœ… Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ø³ØªÙˆØ±Ø§Øª export_logs_to_csv
3. âœ… Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø± Ø¯Ø± save() methods
4. âœ… ØªØ³Øª Ø³ÛŒØ³ØªÙ… Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ

### Ù…Ø±Ø­Ù„Ù‡ 2: ØªÚ©Ù…ÛŒÙ„ Ø³ÛŒØ³ØªÙ… Ù¾Ø±Ø¯Ø§Ø®Øª
1. âœ… Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ù…Ø¯Ù„ Payment
2. âœ… Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ø³ØªÙˆØ±Ø§Øª export_payments_logs_to_csv
3. âœ… Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ Ù¾Ø±Ø¯Ø§Ø®Øªâ€ŒÙ‡Ø§
4. âœ… ØªØ³Øª Ø³ÛŒØ³ØªÙ… Ù¾Ø±Ø¯Ø§Ø®Øª

### Ù…Ø±Ø­Ù„Ù‡ 3: Ø¨Ù‡Ø¨ÙˆØ¯ Ú¯Ø²Ø§Ø±Ø´â€ŒÚ¯ÛŒØ±ÛŒ
1. âœ… Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ù„Ø§Ú¯â€ŒÙ‡Ø§
2. âœ… Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ú¯Ø²Ø§Ø±Ø´â€ŒÙ‡Ø§ÛŒ ØªØ­Ù„ÛŒÙ„ÛŒ
3. âœ… Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† ÙÛŒÙ„ØªØ±Ù‡Ø§ Ùˆ Ø¬Ø³ØªØ¬Ùˆ
4. âœ… ØªØ³Øª Ú¯Ø²Ø§Ø±Ø´â€ŒÚ¯ÛŒØ±ÛŒ

### Ù…Ø±Ø­Ù„Ù‡ 4: Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ
1. âœ… Ø¨Ù‡Ø¨ÙˆØ¯ Ø¹Ù…Ù„Ú©Ø±Ø¯ Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ
2. âœ… Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø§ÛŒÙ†Ø¯Ú©Ø³â€ŒÙ‡Ø§ÛŒ Ø¨Ù‡ÛŒÙ†Ù‡
3. âœ… Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù¾Ø§Ú©â€ŒØ³Ø§Ø²ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø± Ù„Ø§Ú¯â€ŒÙ‡Ø§ÛŒ Ù‚Ø¯ÛŒÙ…
4. âœ… ØªØ³Øª Ù†Ù‡Ø§ÛŒÛŒ

## ğŸ¯ Ù†ØªÛŒØ¬Ù‡â€ŒÚ¯ÛŒØ±ÛŒ

Ø³ÛŒØ³ØªÙ… Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ HomayOMS Ø¯Ø± Ù†Ø³Ø®Ù‡ v1 Ø¨Ø³ÛŒØ§Ø± Ú©Ø§Ù…Ù„ Ùˆ Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ø§Ø³ØªØŒ Ø§Ù…Ø§ Ù†Ø³Ø®Ù‡ v1.1 ÙØ§Ù‚Ø¯ Ø§ÛŒÙ† Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§ Ø§Ø³Øª. Ø¨Ø§ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯Ø§Øª Ø§Ø±Ø§Ø¦Ù‡ Ø´Ø¯Ù‡ØŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù† Ø³ÛŒØ³ØªÙ… Ù„Ø§Ú¯â€ŒÚ¯ÛŒØ±ÛŒ Ú©Ø§Ù…Ù„ Ùˆ Ú©Ø§Ø±Ø¢Ù…Ø¯ÛŒ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ø¯ Ú©Ù‡ Ù‡Ù… Ø¨Ø±Ø§ÛŒ ØªØ­Ù„ÛŒÙ„â€ŒÙ‡Ø§ÛŒ ÙÙ†ÛŒ Ùˆ Ù‡Ù… Ø¨Ø±Ø§ÛŒ Ú¯Ø²Ø§Ø±Ø´â€ŒÙ‡Ø§ÛŒ ØªØ¬Ø§Ø±ÛŒ Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø§Ø´Ø¯.

**ğŸ”‘ Ù†Ú©ØªÙ‡ Ú©Ù„ÛŒØ¯ÛŒ**: Ø­ÙØ¸ Ø³Ø§Ø²Ú¯Ø§Ø±ÛŒ Ø¨Ø§ Ø³ÛŒØ³ØªÙ… Ù…ÙˆØ¬ÙˆØ¯ Ùˆ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§Ù„Ú¯ÙˆÙ‡Ø§ÛŒ Ø§Ø«Ø¨Ø§Øª Ø´Ø¯Ù‡ Ù†Ø³Ø®Ù‡ v1 Ø¨Ø±Ø§ÛŒ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ù¾Ø§ÛŒØ¯Ø§Ø±ÛŒ Ùˆ Ù‚Ø§Ø¨Ù„ÛŒØª Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø³ÛŒØ³ØªÙ…. 